# file_closer_plugin

## 概要

このプロジェクトはJetBrains marketplace向けのプラグインのためのプロジェクトです。
このプロジェクトでは、ファイルをまとめてクローズする機能を提供します。

## 実装

- file_closerのアイコンをクリックするとウィンドウが開く
- ウィンドウには拡張子ごとのリストが並ぶ(ex: .py 12 files, .png 25files, .jpeg 32 files)
  - 拡張子のアイテムのことを拡張子エントリと呼ぶ
  - リストを展開することも可能
  - 展開すると名前の昇順でファイル名が並ぶ
    - この時、同じファイル名のものはfull pathになる
    - ファイル名のアイテムのことをファイルエントリと呼ぶ
- 各エントリ行は NameArea（テキスト部分）と GCButton（ゴミ箱アイコン）の2つの領域を持つ
  - クリック位置の判定はレンダラーの `hitTest()` メソッドで行い、実際のコンポーネントレイアウトに基づく
- NameArea をクリックした場合:
  - 拡張子エントリ → ファイル一覧が展開/折りたたみされる
  - ファイルエントリ → 何も起きない（JTree のデフォルト動作に委譲）
- GCButton（ゴミ箱アイコン）をクリックした場合:
  - ファイルの削除（クローズ）はゴミ箱アイコンをクリックした時のみ実行される
  - 拡張子エントリのゴミ箱アイコンをクリックすると、その拡張子のファイルが全てクローズされる
  - ファイルエントリのゴミ箱アイコンをクリックすると、そのファイルがクローズされる
- もし保存されていない場合は、クローズする前に保存するかどうかのダイアログが表示される
  - 保存するを選択した場合は、保存してからクローズされる
  - 保存しないを選択した場合は、保存せずにクローズされる
  - キャンセルを選択した場合は、クローズされない

